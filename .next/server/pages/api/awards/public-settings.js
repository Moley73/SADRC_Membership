"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/awards/public-settings";
exports.ids = ["pages/api/awards/public-settings"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fawards%2Fpublic-settings&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cawards%5Cpublic-settings.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fawards%2Fpublic-settings&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cawards%5Cpublic-settings.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_awards_public_settings_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\awards\\public-settings.js */ \"(api)/./pages/api/awards/public-settings.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_awards_public_settings_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_awards_public_settings_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/awards/public-settings\",\n        pathname: \"/api/awards/public-settings\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_awards_public_settings_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmF3YXJkcyUyRnB1YmxpYy1zZXR0aW5ncyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDYXdhcmRzJTVDcHVibGljLXNldHRpbmdzLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3FFO0FBQ3JFO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxpRUFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsaUVBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FkcmMtbWVtYmVyc2hpcC1hcHAvP2M2Y2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxhd2FyZHNcXFxccHVibGljLXNldHRpbmdzLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXdhcmRzL3B1YmxpYy1zZXR0aW5nc1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2F3YXJkcy9wdWJsaWMtc2V0dGluZ3NcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fawards%2Fpublic-settings&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cawards%5Cpublic-settings.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/supabaseClient.js":
/*!*******************************!*\
  !*** ./lib/supabaseClient.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   debugAuthState: () => (/* binding */ debugAuthState),\n/* harmony export */   getAuthToken: () => (/* binding */ getAuthToken),\n/* harmony export */   handleAuthError: () => (/* binding */ handleAuthError),\n/* harmony export */   isAdmin: () => (/* binding */ isAdmin),\n/* harmony export */   isLoggedIn: () => (/* binding */ isLoggedIn),\n/* harmony export */   refreshSession: () => (/* binding */ refreshSession),\n/* harmony export */   safeGetSession: () => (/* binding */ safeGetSession),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin),\n/* harmony export */   testTableAccess: () => (/* binding */ testTableAccess),\n/* harmony export */   withServiceRole: () => (/* binding */ withServiceRole)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\nconst supabaseUrl = \"https://wylflyzcsmkckzjdvsqc.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind5bGZseXpjc21rY2t6amR2c3FjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ3MTMzNDgsImV4cCI6MjA2MDI4OTM0OH0.9y6kBuwd1emWuseV6tv9BgtmSgB8a9UUb15n0n6UL0w\";\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n// Create a standard client with the user's session\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey, {\n    auth: {\n        persistSession: true,\n        autoRefreshToken: true,\n        detectSessionInUrl: true,\n        storageKey: \"sadrc-membership-auth\",\n        storage: {\n            getItem: (key)=>{\n                if (true) {\n                    return null;\n                }\n                return JSON.parse(window.localStorage.getItem(key));\n            },\n            setItem: (key, value)=>{\n                if (false) {}\n            },\n            removeItem: (key)=>{\n                if (false) {}\n            }\n        }\n    }\n});\n// Create a service role client for admin operations\nconst supabaseAdmin = supabaseServiceKey ? (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceKey, {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    }\n}) : null;\n// Helper function to get the current session token\nconst getAuthToken = async ()=>{\n    try {\n        const { data } = await supabase.auth.getSession();\n        return data?.session?.access_token || null;\n    } catch (error) {\n        console.error(\"Error getting auth token:\", error);\n        return null;\n    }\n};\n// Helper function to check if user is logged in\nconst isLoggedIn = async ()=>{\n    try {\n        const { data } = await supabase.auth.getSession();\n        return !!data?.session;\n    } catch (error) {\n        console.error(\"Error checking login status:\", error);\n        return false;\n    }\n};\n// Helper function to check if user is admin\nconst isAdmin = async ()=>{\n    try {\n        const { data: sessionData } = await supabase.auth.getSession();\n        if (!sessionData?.session) return false;\n        const { data } = await supabase.from(\"admin_list\").select(\"role\").eq(\"email\", sessionData.session.user.email).maybeSingle();\n        return !!data;\n    } catch (error) {\n        console.error(\"Error checking admin status:\", error);\n        return false;\n    }\n};\n// Force a session refresh\nconst refreshSession = async ()=>{\n    try {\n        const { data, error } = await supabase.auth.refreshSession();\n        if (error) throw error;\n        return data?.session;\n    } catch (error) {\n        console.error(\"Error refreshing session:\", error);\n        return null;\n    }\n};\n// Helper function to safely use the admin client\nconst withServiceRole = async (operation)=>{\n    if (!supabaseAdmin) {\n        console.error(\"Service role key not available. Falling back to regular client.\");\n        return operation(supabase);\n    }\n    try {\n        return await operation(supabaseAdmin);\n    } catch (error) {\n        console.error(\"Error using service role client:\", error);\n        // Fallback to regular client if service role fails\n        return operation(supabase);\n    }\n};\n// Add a custom error handler for auth errors\nconst handleAuthError = (error)=>{\n    if (error?.name === \"AuthSessionMissingError\") {\n        console.log(\"Session missing, redirecting to login\");\n        // Clear any local storage items that might be causing issues\n        if (false) {}\n        return true; // Indicates this was an auth error that was handled\n    }\n    return false; // Not handled\n};\n// Helper to safely get the current session\nconst safeGetSession = async ()=>{\n    try {\n        const { data, error } = await supabase.auth.getSession();\n        if (error) {\n            handleAuthError(error);\n            return {\n                session: null,\n                user: null\n            };\n        }\n        return {\n            session: data?.session || null,\n            user: data?.session?.user || null\n        };\n    } catch (err) {\n        console.error(\"Unexpected error getting session:\", err);\n        handleAuthError(err);\n        return {\n            session: null,\n            user: null\n        };\n    }\n};\n// Debug function to log auth state and session details\nconst debugAuthState = async ()=>{\n    try {\n        const { data: sessionData, error: sessionError } = await supabase.auth.getSession();\n        const { data: userData, error: userError } = await supabase.auth.getUser();\n        console.log(\"====== AUTH DEBUG INFO ======\");\n        console.log(\"Session exists:\", !!sessionData?.session);\n        console.log(\"JWT exists:\", !!sessionData?.session?.access_token);\n        console.log(\"User exists:\", !!userData?.user);\n        if (userData?.user) {\n            console.log(\"User email:\", userData.user.email);\n            console.log(\"User ID:\", userData.user.id);\n        }\n        if (sessionError) {\n            console.error(\"Session error:\", sessionError);\n        }\n        if (userError) {\n            console.error(\"User error:\", userError);\n        }\n        return {\n            hasSession: !!sessionData?.session,\n            hasUser: !!userData?.user,\n            userEmail: userData?.user?.email,\n            userId: userData?.user?.id,\n            sessionError,\n            userError\n        };\n    } catch (err) {\n        console.error(\"Error in debugAuthState:\", err);\n        return {\n            hasSession: false,\n            hasUser: false,\n            error: err.message\n        };\n    }\n};\n// Debug function to test RLS permissions on specific tables\nconst testTableAccess = async (tableName, email = null)=>{\n    try {\n        const query = supabase.from(tableName).select(\"*\");\n        // If email provided, try to filter by it\n        if (email) {\n            query.eq(\"email\", email);\n        }\n        // Limit to just one row for testing\n        query.limit(1);\n        // Execute with timeout\n        const timeoutPromise = new Promise((_, reject)=>setTimeout(()=>reject(new Error(`Query to ${tableName} timed out`)), 5000));\n        const { data, error } = await Promise.race([\n            query,\n            timeoutPromise\n        ]);\n        console.log(`==== ${tableName.toUpperCase()} ACCESS TEST ====`);\n        console.log(\"Query successful:\", !error);\n        console.log(\"Data found:\", !!data && data.length > 0);\n        if (error) {\n            console.error(`Error accessing ${tableName}:`, error);\n        }\n        return {\n            success: !error,\n            hasData: !!data && data.length > 0,\n            data: data,\n            error: error\n        };\n    } catch (err) {\n        console.error(`Error testing access to ${tableName}:`, err);\n        return {\n            success: false,\n            error: err.message\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0FBU0U7UUFDcEI7UUFFQSxvQ0FBb0M7UUFDcEN1QixNQUFNQyxLQUFLLENBQUM7UUFFWix1QkFBdUI7UUFDdkIsTUFBTUMsaUJBQWlCLElBQUlDLFFBQVEsQ0FBQ0MsR0FBR0MsU0FDckNDLFdBQVcsSUFBTUQsT0FBTyxJQUFJRSxNQUFNLENBQUMsU0FBUyxFQUFFUixVQUFVLFVBQVUsQ0FBQyxJQUFJO1FBR3pFLE1BQU0sRUFBRW5DLElBQUksRUFBRUksS0FBSyxFQUFFLEdBQUcsTUFBTW1DLFFBQVFLLElBQUksQ0FBQztZQUN6Q1I7WUFDQUU7U0FDRDtRQUVEakMsUUFBUWUsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFZSxVQUFVVSxXQUFXLEdBQUcsaUJBQWlCLENBQUM7UUFDOUR4QyxRQUFRZSxHQUFHLENBQUMscUJBQXFCLENBQUNoQjtRQUNsQ0MsUUFBUWUsR0FBRyxDQUFDLGVBQWUsQ0FBQyxDQUFDcEIsUUFBUUEsS0FBSzhDLE1BQU0sR0FBRztRQUVuRCxJQUFJMUMsT0FBTztZQUNUQyxRQUFRRCxLQUFLLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRStCLFVBQVUsQ0FBQyxDQUFDLEVBQUUvQjtRQUNqRDtRQUVBLE9BQU87WUFDTDJDLFNBQVMsQ0FBQzNDO1lBQ1Y0QyxTQUFTLENBQUMsQ0FBQ2hELFFBQVFBLEtBQUs4QyxNQUFNLEdBQUc7WUFDakM5QyxNQUFNQTtZQUNOSSxPQUFPQTtRQUNUO0lBQ0YsRUFBRSxPQUFPa0IsS0FBSztRQUNaakIsUUFBUUQsS0FBSyxDQUFDLENBQUMsd0JBQXdCLEVBQUUrQixVQUFVLENBQUMsQ0FBQyxFQUFFYjtRQUN2RCxPQUFPO1lBQ0x5QixTQUFTO1lBQ1QzQyxPQUFPa0IsSUFBSVcsT0FBTztRQUNwQjtJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3NhZHJjLW1lbWJlcnNoaXAtYXBwLy4vbGliL3N1cGFiYXNlQ2xpZW50LmpzPzVmMGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkw7XG5jb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWTtcbmNvbnN0IHN1cGFiYXNlU2VydmljZUtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVk7XG5cbi8vIENyZWF0ZSBhIHN0YW5kYXJkIGNsaWVudCB3aXRoIHRoZSB1c2VyJ3Mgc2Vzc2lvblxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXksIHtcbiAgYXV0aDoge1xuICAgIHBlcnNpc3RTZXNzaW9uOiB0cnVlLFxuICAgIGF1dG9SZWZyZXNoVG9rZW46IHRydWUsXG4gICAgZGV0ZWN0U2Vzc2lvbkluVXJsOiB0cnVlLFxuICAgIHN0b3JhZ2VLZXk6ICdzYWRyYy1tZW1iZXJzaGlwLWF1dGgnLFxuICAgIHN0b3JhZ2U6IHtcbiAgICAgIGdldEl0ZW06IChrZXkpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkpO1xuICAgICAgfSxcbiAgICAgIHNldEl0ZW06IChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZW1vdmVJdGVtOiAoa2V5KSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0sXG4gIH1cbn0pO1xuXG4vLyBDcmVhdGUgYSBzZXJ2aWNlIHJvbGUgY2xpZW50IGZvciBhZG1pbiBvcGVyYXRpb25zXG5leHBvcnQgY29uc3Qgc3VwYWJhc2VBZG1pbiA9IHN1cGFiYXNlU2VydmljZUtleSBcbiAgPyBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlU2VydmljZUtleSwge1xuICAgICAgYXV0aDoge1xuICAgICAgICBhdXRvUmVmcmVzaFRva2VuOiBmYWxzZSxcbiAgICAgICAgcGVyc2lzdFNlc3Npb246IGZhbHNlXG4gICAgICB9XG4gICAgfSlcbiAgOiBudWxsO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IHRoZSBjdXJyZW50IHNlc3Npb24gdG9rZW5cbmV4cG9ydCBjb25zdCBnZXRBdXRoVG9rZW4gPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICByZXR1cm4gZGF0YT8uc2Vzc2lvbj8uYWNjZXNzX3Rva2VuIHx8IG51bGw7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBhdXRoIHRva2VuOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHVzZXIgaXMgbG9nZ2VkIGluXG5leHBvcnQgY29uc3QgaXNMb2dnZWRJbiA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgIHJldHVybiAhIWRhdGE/LnNlc3Npb247XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgbG9naW4gc3RhdHVzOicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBpZiB1c2VyIGlzIGFkbWluXG5leHBvcnQgY29uc3QgaXNBZG1pbiA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGE6IHNlc3Npb25EYXRhIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICBpZiAoIXNlc3Npb25EYXRhPy5zZXNzaW9uKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2FkbWluX2xpc3QnKVxuICAgICAgLnNlbGVjdCgncm9sZScpXG4gICAgICAuZXEoJ2VtYWlsJywgc2Vzc2lvbkRhdGEuc2Vzc2lvbi51c2VyLmVtYWlsKVxuICAgICAgLm1heWJlU2luZ2xlKCk7XG4gICAgICBcbiAgICByZXR1cm4gISFkYXRhO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGFkbWluIHN0YXR1czonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vLyBGb3JjZSBhIHNlc3Npb24gcmVmcmVzaFxuZXhwb3J0IGNvbnN0IHJlZnJlc2hTZXNzaW9uID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGgucmVmcmVzaFNlc3Npb24oKTtcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgIHJldHVybiBkYXRhPy5zZXNzaW9uO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlZnJlc2hpbmcgc2Vzc2lvbjonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBzYWZlbHkgdXNlIHRoZSBhZG1pbiBjbGllbnRcbmV4cG9ydCBjb25zdCB3aXRoU2VydmljZVJvbGUgPSBhc3luYyAob3BlcmF0aW9uKSA9PiB7XG4gIGlmICghc3VwYWJhc2VBZG1pbikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1NlcnZpY2Ugcm9sZSBrZXkgbm90IGF2YWlsYWJsZS4gRmFsbGluZyBiYWNrIHRvIHJlZ3VsYXIgY2xpZW50LicpO1xuICAgIHJldHVybiBvcGVyYXRpb24oc3VwYWJhc2UpO1xuICB9XG4gIFxuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCBvcGVyYXRpb24oc3VwYWJhc2VBZG1pbik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXNpbmcgc2VydmljZSByb2xlIGNsaWVudDonLCBlcnJvcik7XG4gICAgLy8gRmFsbGJhY2sgdG8gcmVndWxhciBjbGllbnQgaWYgc2VydmljZSByb2xlIGZhaWxzXG4gICAgcmV0dXJuIG9wZXJhdGlvbihzdXBhYmFzZSk7XG4gIH1cbn07XG5cbi8vIEFkZCBhIGN1c3RvbSBlcnJvciBoYW5kbGVyIGZvciBhdXRoIGVycm9yc1xuZXhwb3J0IGNvbnN0IGhhbmRsZUF1dGhFcnJvciA9IChlcnJvcikgPT4ge1xuICBpZiAoZXJyb3I/Lm5hbWUgPT09ICdBdXRoU2Vzc2lvbk1pc3NpbmdFcnJvcicpIHtcbiAgICBjb25zb2xlLmxvZygnU2Vzc2lvbiBtaXNzaW5nLCByZWRpcmVjdGluZyB0byBsb2dpbicpO1xuICAgIC8vIENsZWFyIGFueSBsb2NhbCBzdG9yYWdlIGl0ZW1zIHRoYXQgbWlnaHQgYmUgY2F1c2luZyBpc3N1ZXNcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzYWRyYy1tZW1iZXJzaGlwLWF1dGgnKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzdXBhYmFzZS5hdXRoLnRva2VuJyk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlOyAvLyBJbmRpY2F0ZXMgdGhpcyB3YXMgYW4gYXV0aCBlcnJvciB0aGF0IHdhcyBoYW5kbGVkXG4gIH1cbiAgcmV0dXJuIGZhbHNlOyAvLyBOb3QgaGFuZGxlZFxufTtcblxuLy8gSGVscGVyIHRvIHNhZmVseSBnZXQgdGhlIGN1cnJlbnQgc2Vzc2lvblxuZXhwb3J0IGNvbnN0IHNhZmVHZXRTZXNzaW9uID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgIGlmIChlcnJvcikge1xuICAgICAgaGFuZGxlQXV0aEVycm9yKGVycm9yKTtcbiAgICAgIHJldHVybiB7IHNlc3Npb246IG51bGwsIHVzZXI6IG51bGwgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgXG4gICAgICBzZXNzaW9uOiBkYXRhPy5zZXNzaW9uIHx8IG51bGwsXG4gICAgICB1c2VyOiBkYXRhPy5zZXNzaW9uPy51c2VyIHx8IG51bGxcbiAgICB9O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKCdVbmV4cGVjdGVkIGVycm9yIGdldHRpbmcgc2Vzc2lvbjonLCBlcnIpO1xuICAgIGhhbmRsZUF1dGhFcnJvcihlcnIpO1xuICAgIHJldHVybiB7IHNlc3Npb246IG51bGwsIHVzZXI6IG51bGwgfTtcbiAgfVxufTtcblxuLy8gRGVidWcgZnVuY3Rpb24gdG8gbG9nIGF1dGggc3RhdGUgYW5kIHNlc3Npb24gZGV0YWlsc1xuZXhwb3J0IGNvbnN0IGRlYnVnQXV0aFN0YXRlID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YTogc2Vzc2lvbkRhdGEsIGVycm9yOiBzZXNzaW9uRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgIGNvbnN0IHsgZGF0YTogdXNlckRhdGEsIGVycm9yOiB1c2VyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCc9PT09PT0gQVVUSCBERUJVRyBJTkZPID09PT09PScpO1xuICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIGV4aXN0czonLCAhIXNlc3Npb25EYXRhPy5zZXNzaW9uKTtcbiAgICBjb25zb2xlLmxvZygnSldUIGV4aXN0czonLCAhIXNlc3Npb25EYXRhPy5zZXNzaW9uPy5hY2Nlc3NfdG9rZW4pO1xuICAgIGNvbnNvbGUubG9nKCdVc2VyIGV4aXN0czonLCAhIXVzZXJEYXRhPy51c2VyKTtcbiAgICBcbiAgICBpZiAodXNlckRhdGE/LnVzZXIpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdVc2VyIGVtYWlsOicsIHVzZXJEYXRhLnVzZXIuZW1haWwpO1xuICAgICAgY29uc29sZS5sb2coJ1VzZXIgSUQ6JywgdXNlckRhdGEudXNlci5pZCk7XG4gICAgfVxuICAgIFxuICAgIGlmIChzZXNzaW9uRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Nlc3Npb24gZXJyb3I6Jywgc2Vzc2lvbkVycm9yKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHVzZXJFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignVXNlciBlcnJvcjonLCB1c2VyRXJyb3IpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgaGFzU2Vzc2lvbjogISFzZXNzaW9uRGF0YT8uc2Vzc2lvbixcbiAgICAgIGhhc1VzZXI6ICEhdXNlckRhdGE/LnVzZXIsXG4gICAgICB1c2VyRW1haWw6IHVzZXJEYXRhPy51c2VyPy5lbWFpbCxcbiAgICAgIHVzZXJJZDogdXNlckRhdGE/LnVzZXI/LmlkLFxuICAgICAgc2Vzc2lvbkVycm9yLFxuICAgICAgdXNlckVycm9yXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gZGVidWdBdXRoU3RhdGU6JywgZXJyKTtcbiAgICByZXR1cm4ge1xuICAgICAgaGFzU2Vzc2lvbjogZmFsc2UsXG4gICAgICBoYXNVc2VyOiBmYWxzZSxcbiAgICAgIGVycm9yOiBlcnIubWVzc2FnZVxuICAgIH07XG4gIH1cbn07XG5cbi8vIERlYnVnIGZ1bmN0aW9uIHRvIHRlc3QgUkxTIHBlcm1pc3Npb25zIG9uIHNwZWNpZmljIHRhYmxlc1xuZXhwb3J0IGNvbnN0IHRlc3RUYWJsZUFjY2VzcyA9IGFzeW5jICh0YWJsZU5hbWUsIGVtYWlsID0gbnVsbCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHF1ZXJ5ID0gc3VwYWJhc2UuZnJvbSh0YWJsZU5hbWUpLnNlbGVjdCgnKicpO1xuICAgIFxuICAgIC8vIElmIGVtYWlsIHByb3ZpZGVkLCB0cnkgdG8gZmlsdGVyIGJ5IGl0XG4gICAgaWYgKGVtYWlsKSB7XG4gICAgICBxdWVyeS5lcSgnZW1haWwnLCBlbWFpbCk7XG4gICAgfVxuICAgIFxuICAgIC8vIExpbWl0IHRvIGp1c3Qgb25lIHJvdyBmb3IgdGVzdGluZ1xuICAgIHF1ZXJ5LmxpbWl0KDEpO1xuICAgIFxuICAgIC8vIEV4ZWN1dGUgd2l0aCB0aW1lb3V0XG4gICAgY29uc3QgdGltZW91dFByb21pc2UgPSBuZXcgUHJvbWlzZSgoXywgcmVqZWN0KSA9PiBcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVqZWN0KG5ldyBFcnJvcihgUXVlcnkgdG8gJHt0YWJsZU5hbWV9IHRpbWVkIG91dGApKSwgNTAwMClcbiAgICApO1xuICAgIFxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IFByb21pc2UucmFjZShbXG4gICAgICBxdWVyeSxcbiAgICAgIHRpbWVvdXRQcm9taXNlXG4gICAgXSk7XG4gICAgXG4gICAgY29uc29sZS5sb2coYD09PT0gJHt0YWJsZU5hbWUudG9VcHBlckNhc2UoKX0gQUNDRVNTIFRFU1QgPT09PWApO1xuICAgIGNvbnNvbGUubG9nKCdRdWVyeSBzdWNjZXNzZnVsOicsICFlcnJvcik7XG4gICAgY29uc29sZS5sb2coJ0RhdGEgZm91bmQ6JywgISFkYXRhICYmIGRhdGEubGVuZ3RoID4gMCk7XG4gICAgXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBhY2Nlc3NpbmcgJHt0YWJsZU5hbWV9OmAsIGVycm9yKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6ICFlcnJvcixcbiAgICAgIGhhc0RhdGE6ICEhZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDAsXG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgdGVzdGluZyBhY2Nlc3MgdG8gJHt0YWJsZU5hbWV9OmAsIGVycik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IGVyci5tZXNzYWdlXG4gICAgfTtcbiAgfVxufTtcbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUFub25LZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsInN1cGFiYXNlU2VydmljZUtleSIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJzdXBhYmFzZSIsImF1dGgiLCJwZXJzaXN0U2Vzc2lvbiIsImF1dG9SZWZyZXNoVG9rZW4iLCJkZXRlY3RTZXNzaW9uSW5VcmwiLCJzdG9yYWdlS2V5Iiwic3RvcmFnZSIsImdldEl0ZW0iLCJrZXkiLCJKU09OIiwicGFyc2UiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwidmFsdWUiLCJzdHJpbmdpZnkiLCJyZW1vdmVJdGVtIiwic3VwYWJhc2VBZG1pbiIsImdldEF1dGhUb2tlbiIsImRhdGEiLCJnZXRTZXNzaW9uIiwic2Vzc2lvbiIsImFjY2Vzc190b2tlbiIsImVycm9yIiwiY29uc29sZSIsImlzTG9nZ2VkSW4iLCJpc0FkbWluIiwic2Vzc2lvbkRhdGEiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJ1c2VyIiwiZW1haWwiLCJtYXliZVNpbmdsZSIsInJlZnJlc2hTZXNzaW9uIiwid2l0aFNlcnZpY2VSb2xlIiwib3BlcmF0aW9uIiwiaGFuZGxlQXV0aEVycm9yIiwibmFtZSIsImxvZyIsInNhZmVHZXRTZXNzaW9uIiwiZXJyIiwiZGVidWdBdXRoU3RhdGUiLCJzZXNzaW9uRXJyb3IiLCJ1c2VyRGF0YSIsInVzZXJFcnJvciIsImdldFVzZXIiLCJpZCIsImhhc1Nlc3Npb24iLCJoYXNVc2VyIiwidXNlckVtYWlsIiwidXNlcklkIiwibWVzc2FnZSIsInRlc3RUYWJsZUFjY2VzcyIsInRhYmxlTmFtZSIsInF1ZXJ5IiwibGltaXQiLCJ0aW1lb3V0UHJvbWlzZSIsIlByb21pc2UiLCJfIiwicmVqZWN0Iiwic2V0VGltZW91dCIsIkVycm9yIiwicmFjZSIsInRvVXBwZXJDYXNlIiwibGVuZ3RoIiwic3VjY2VzcyIsImhhc0RhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/supabaseClient.js\n");

/***/ }),

/***/ "(api)/./pages/api/awards/public-settings.js":
/*!*********************************************!*\
  !*** ./pages/api/awards/public-settings.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/supabaseClient */ \"(api)/./lib/supabaseClient.js\");\n\nasync function handler(req, res) {\n    try {\n        if (req.method === \"GET\") {\n            // Get award settings (publicly readable)\n            const { data, error } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"award_settings\").select(\"*\").single();\n            if (error) throw error;\n            return res.status(200).json(data);\n        } else {\n            return res.status(405).json({\n                error: \"Method not allowed\"\n            });\n        }\n    } catch (error) {\n        console.error(\"Error in public award settings API:\", error);\n        return res.status(500).json({\n            error: error.message\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXdhcmRzL3B1YmxpYy1zZXR0aW5ncy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF1RDtBQUV4QyxlQUFlQyxRQUFRQyxHQUFHLEVBQUVDLEdBQUc7SUFDNUMsSUFBSTtRQUNGLElBQUlELElBQUlFLE1BQU0sS0FBSyxPQUFPO1lBQ3hCLHlDQUF5QztZQUN6QyxNQUFNLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTU4seURBQVFBLENBQ25DTyxJQUFJLENBQUMsa0JBQ0xDLE1BQU0sQ0FBQyxLQUNQQyxNQUFNO1lBQ1QsSUFBSUgsT0FBTyxNQUFNQTtZQUNqQixPQUFPSCxJQUFJTyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDTjtRQUM5QixPQUFPO1lBQ0wsT0FBT0YsSUFBSU8sTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUwsT0FBTztZQUFxQjtRQUM1RDtJQUNGLEVBQUUsT0FBT0EsT0FBTztRQUNkTSxRQUFRTixLQUFLLENBQUMsdUNBQXVDQTtRQUNyRCxPQUFPSCxJQUFJTyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVMLE9BQU9BLE1BQU1PLE9BQU87UUFBQztJQUNyRDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FkcmMtbWVtYmVyc2hpcC1hcHAvLi9wYWdlcy9hcGkvYXdhcmRzL3B1YmxpYy1zZXR0aW5ncy5qcz9lYjdkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnLi4vLi4vLi4vbGliL3N1cGFiYXNlQ2xpZW50JztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICB0cnkge1xuICAgIGlmIChyZXEubWV0aG9kID09PSAnR0VUJykge1xuICAgICAgLy8gR2V0IGF3YXJkIHNldHRpbmdzIChwdWJsaWNseSByZWFkYWJsZSlcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdhd2FyZF9zZXR0aW5ncycpXG4gICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAuc2luZ2xlKCk7XG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKGRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIHB1YmxpYyBhd2FyZCBzZXR0aW5ncyBBUEk6JywgZXJyb3IpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsic3VwYWJhc2UiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwiZGF0YSIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsInNpbmdsZSIsInN0YXR1cyIsImpzb24iLCJjb25zb2xlIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/awards/public-settings.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fawards%2Fpublic-settings&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cawards%5Cpublic-settings.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();