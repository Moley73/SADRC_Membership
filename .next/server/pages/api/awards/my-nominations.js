"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/awards/my-nominations";
exports.ids = ["pages/api/awards/my-nominations"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fawards%2Fmy-nominations&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cawards%5Cmy-nominations.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fawards%2Fmy-nominations&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cawards%5Cmy-nominations.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_awards_my_nominations_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\awards\\my-nominations.js */ \"(api)/./pages/api/awards/my-nominations.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_awards_my_nominations_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_awards_my_nominations_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/awards/my-nominations\",\n        pathname: \"/api/awards/my-nominations\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_awards_my_nominations_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmF3YXJkcyUyRm15LW5vbWluYXRpb25zJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNhd2FyZHMlNUNteS1ub21pbmF0aW9ucy5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNvRTtBQUNwRTtBQUNBLGlFQUFlLHdFQUFLLENBQUMsZ0VBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLGdFQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL3NhZHJjLW1lbWJlcnNoaXAtYXBwLz85ZGU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcYXdhcmRzXFxcXG15LW5vbWluYXRpb25zLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXdhcmRzL215LW5vbWluYXRpb25zXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXdhcmRzL215LW5vbWluYXRpb25zXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fawards%2Fmy-nominations&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cawards%5Cmy-nominations.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/supabaseClient.js":
/*!*******************************!*\
  !*** ./lib/supabaseClient.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAuthToken: () => (/* binding */ getAuthToken),\n/* harmony export */   isAdmin: () => (/* binding */ isAdmin),\n/* harmony export */   isLoggedIn: () => (/* binding */ isLoggedIn),\n/* harmony export */   refreshSession: () => (/* binding */ refreshSession),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin),\n/* harmony export */   withServiceRole: () => (/* binding */ withServiceRole)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\nconst supabaseUrl = \"https://wylflyzcsmkckzjdvsqc.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind5bGZseXpjc21rY2t6amR2c3FjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ3MTMzNDgsImV4cCI6MjA2MDI4OTM0OH0.9y6kBuwd1emWuseV6tv9BgtmSgB8a9UUb15n0n6UL0w\";\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n// Create a standard client with the user's session\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey, {\n    auth: {\n        persistSession: true,\n        autoRefreshToken: true,\n        detectSessionInUrl: true\n    }\n});\n// Create a service role client for admin operations\nconst supabaseAdmin = supabaseServiceKey ? (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceKey, {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    }\n}) : null;\n// Helper function to get the current session token\nconst getAuthToken = async ()=>{\n    try {\n        const { data } = await supabase.auth.getSession();\n        return data?.session?.access_token || null;\n    } catch (error) {\n        console.error(\"Error getting auth token:\", error);\n        return null;\n    }\n};\n// Helper function to check if user is logged in\nconst isLoggedIn = async ()=>{\n    try {\n        const { data } = await supabase.auth.getSession();\n        return !!data?.session;\n    } catch (error) {\n        console.error(\"Error checking login status:\", error);\n        return false;\n    }\n};\n// Helper function to check if user is admin\nconst isAdmin = async ()=>{\n    try {\n        const { data: sessionData } = await supabase.auth.getSession();\n        if (!sessionData?.session) return false;\n        const { data } = await supabase.from(\"admin_list\").select(\"role\").eq(\"email\", sessionData.session.user.email).maybeSingle();\n        return !!data;\n    } catch (error) {\n        console.error(\"Error checking admin status:\", error);\n        return false;\n    }\n};\n// Force a session refresh\nconst refreshSession = async ()=>{\n    try {\n        const { data, error } = await supabase.auth.refreshSession();\n        if (error) throw error;\n        return data?.session;\n    } catch (error) {\n        console.error(\"Error refreshing session:\", error);\n        return null;\n    }\n};\n// Helper function to safely use the admin client\nconst withServiceRole = async (operation)=>{\n    if (!supabaseAdmin) {\n        console.error(\"Service role key not available. Falling back to regular client.\");\n        return operation(supabase);\n    }\n    try {\n        return await operation(supabaseAdmin);\n    } catch (error) {\n        console.error(\"Error using service role client:\", error);\n        // Fallback to regular client if service role fails\n        return operation(supabase);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvc3VwYWJhc2VDbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXFEO0FBRXJELE1BQU1DLGNBQWNDLDBDQUFvQztBQUN4RCxNQUFNRyxrQkFBa0JILGtOQUF5QztBQUNqRSxNQUFNSyxxQkFBcUJMLFFBQVFDLEdBQUcsQ0FBQ0sseUJBQXlCO0FBRWhFLG1EQUFtRDtBQUM1QyxNQUFNQyxXQUFXVCxtRUFBWUEsQ0FBQ0MsYUFBYUksaUJBQWlCO0lBQ2pFSyxNQUFNO1FBQ0pDLGdCQUFnQjtRQUNoQkMsa0JBQWtCO1FBQ2xCQyxvQkFBb0I7SUFDdEI7QUFDRixHQUFHO0FBRUgsb0RBQW9EO0FBQzdDLE1BQU1DLGdCQUFnQlAscUJBQ3pCUCxtRUFBWUEsQ0FBQ0MsYUFBYU0sb0JBQW9CO0lBQzVDRyxNQUFNO1FBQ0pFLGtCQUFrQjtRQUNsQkQsZ0JBQWdCO0lBQ2xCO0FBQ0YsS0FDQSxLQUFLO0FBRVQsbURBQW1EO0FBQzVDLE1BQU1JLGVBQWU7SUFDMUIsSUFBSTtRQUNGLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEdBQUcsTUFBTVAsU0FBU0MsSUFBSSxDQUFDTyxVQUFVO1FBQy9DLE9BQU9ELE1BQU1FLFNBQVNDLGdCQUFnQjtJQUN4QyxFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDZCQUE2QkE7UUFDM0MsT0FBTztJQUNUO0FBQ0YsRUFBRTtBQUVGLGdEQUFnRDtBQUN6QyxNQUFNRSxhQUFhO0lBQ3hCLElBQUk7UUFDRixNQUFNLEVBQUVOLElBQUksRUFBRSxHQUFHLE1BQU1QLFNBQVNDLElBQUksQ0FBQ08sVUFBVTtRQUMvQyxPQUFPLENBQUMsQ0FBQ0QsTUFBTUU7SUFDakIsRUFBRSxPQUFPRSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQzlDLE9BQU87SUFDVDtBQUNGLEVBQUU7QUFFRiw0Q0FBNEM7QUFDckMsTUFBTUcsVUFBVTtJQUNyQixJQUFJO1FBQ0YsTUFBTSxFQUFFUCxNQUFNUSxXQUFXLEVBQUUsR0FBRyxNQUFNZixTQUFTQyxJQUFJLENBQUNPLFVBQVU7UUFDNUQsSUFBSSxDQUFDTyxhQUFhTixTQUFTLE9BQU87UUFFbEMsTUFBTSxFQUFFRixJQUFJLEVBQUUsR0FBRyxNQUFNUCxTQUNwQmdCLElBQUksQ0FBQyxjQUNMQyxNQUFNLENBQUMsUUFDUEMsRUFBRSxDQUFDLFNBQVNILFlBQVlOLE9BQU8sQ0FBQ1UsSUFBSSxDQUFDQyxLQUFLLEVBQzFDQyxXQUFXO1FBRWQsT0FBTyxDQUFDLENBQUNkO0lBQ1gsRUFBRSxPQUFPSSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQzlDLE9BQU87SUFDVDtBQUNGLEVBQUU7QUFFRiwwQkFBMEI7QUFDbkIsTUFBTVcsaUJBQWlCO0lBQzVCLElBQUk7UUFDRixNQUFNLEVBQUVmLElBQUksRUFBRUksS0FBSyxFQUFFLEdBQUcsTUFBTVgsU0FBU0MsSUFBSSxDQUFDcUIsY0FBYztRQUMxRCxJQUFJWCxPQUFPLE1BQU1BO1FBQ2pCLE9BQU9KLE1BQU1FO0lBQ2YsRUFBRSxPQUFPRSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyw2QkFBNkJBO1FBQzNDLE9BQU87SUFDVDtBQUNGLEVBQUU7QUFFRixpREFBaUQ7QUFDMUMsTUFBTVksa0JBQWtCLE9BQU9DO0lBQ3BDLElBQUksQ0FBQ25CLGVBQWU7UUFDbEJPLFFBQVFELEtBQUssQ0FBQztRQUNkLE9BQU9hLFVBQVV4QjtJQUNuQjtJQUVBLElBQUk7UUFDRixPQUFPLE1BQU13QixVQUFVbkI7SUFDekIsRUFBRSxPQUFPTSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxvQ0FBb0NBO1FBQ2xELG1EQUFtRDtRQUNuRCxPQUFPYSxVQUFVeEI7SUFDbkI7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FkcmMtbWVtYmVyc2hpcC1hcHAvLi9saWIvc3VwYWJhc2VDbGllbnQuanM/NWYwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDtcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZO1xuY29uc3Qgc3VwYWJhc2VTZXJ2aWNlS2V5ID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWTtcblxuLy8gQ3JlYXRlIGEgc3RhbmRhcmQgY2xpZW50IHdpdGggdGhlIHVzZXIncyBzZXNzaW9uXG5leHBvcnQgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlQW5vbktleSwge1xuICBhdXRoOiB7XG4gICAgcGVyc2lzdFNlc3Npb246IHRydWUsXG4gICAgYXV0b1JlZnJlc2hUb2tlbjogdHJ1ZSxcbiAgICBkZXRlY3RTZXNzaW9uSW5Vcmw6IHRydWVcbiAgfVxufSk7XG5cbi8vIENyZWF0ZSBhIHNlcnZpY2Ugcm9sZSBjbGllbnQgZm9yIGFkbWluIG9wZXJhdGlvbnNcbmV4cG9ydCBjb25zdCBzdXBhYmFzZUFkbWluID0gc3VwYWJhc2VTZXJ2aWNlS2V5IFxuICA/IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VTZXJ2aWNlS2V5LCB7XG4gICAgICBhdXRoOiB7XG4gICAgICAgIGF1dG9SZWZyZXNoVG9rZW46IGZhbHNlLFxuICAgICAgICBwZXJzaXN0U2Vzc2lvbjogZmFsc2VcbiAgICAgIH1cbiAgICB9KVxuICA6IG51bGw7XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgdGhlIGN1cnJlbnQgc2Vzc2lvbiB0b2tlblxuZXhwb3J0IGNvbnN0IGdldEF1dGhUb2tlbiA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgIHJldHVybiBkYXRhPy5zZXNzaW9uPy5hY2Nlc3NfdG9rZW4gfHwgbnVsbDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGF1dGggdG9rZW46JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdXNlciBpcyBsb2dnZWQgaW5cbmV4cG9ydCBjb25zdCBpc0xvZ2dlZEluID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gICAgcmV0dXJuICEhZGF0YT8uc2Vzc2lvbjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBsb2dpbiBzdGF0dXM6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHVzZXIgaXMgYWRtaW5cbmV4cG9ydCBjb25zdCBpc0FkbWluID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YTogc2Vzc2lvbkRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgIGlmICghc2Vzc2lvbkRhdGE/LnNlc3Npb24pIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnYWRtaW5fbGlzdCcpXG4gICAgICAuc2VsZWN0KCdyb2xlJylcbiAgICAgIC5lcSgnZW1haWwnLCBzZXNzaW9uRGF0YS5zZXNzaW9uLnVzZXIuZW1haWwpXG4gICAgICAubWF5YmVTaW5nbGUoKTtcbiAgICAgIFxuICAgIHJldHVybiAhIWRhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgYWRtaW4gc3RhdHVzOicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8vIEZvcmNlIGEgc2Vzc2lvbiByZWZyZXNoXG5leHBvcnQgY29uc3QgcmVmcmVzaFNlc3Npb24gPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5yZWZyZXNoU2Vzc2lvbigpO1xuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgcmV0dXJuIGRhdGE/LnNlc3Npb247XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVmcmVzaGluZyBzZXNzaW9uOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHNhZmVseSB1c2UgdGhlIGFkbWluIGNsaWVudFxuZXhwb3J0IGNvbnN0IHdpdGhTZXJ2aWNlUm9sZSA9IGFzeW5jIChvcGVyYXRpb24pID0+IHtcbiAgaWYgKCFzdXBhYmFzZUFkbWluKSB7XG4gICAgY29uc29sZS5lcnJvcignU2VydmljZSByb2xlIGtleSBub3QgYXZhaWxhYmxlLiBGYWxsaW5nIGJhY2sgdG8gcmVndWxhciBjbGllbnQuJyk7XG4gICAgcmV0dXJuIG9wZXJhdGlvbihzdXBhYmFzZSk7XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IG9wZXJhdGlvbihzdXBhYmFzZUFkbWluKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1c2luZyBzZXJ2aWNlIHJvbGUgY2xpZW50OicsIGVycm9yKTtcbiAgICAvLyBGYWxsYmFjayB0byByZWd1bGFyIGNsaWVudCBpZiBzZXJ2aWNlIHJvbGUgZmFpbHNcbiAgICByZXR1cm4gb3BlcmF0aW9uKHN1cGFiYXNlKTtcbiAgfVxufTtcbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUFub25LZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsInN1cGFiYXNlU2VydmljZUtleSIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJzdXBhYmFzZSIsImF1dGgiLCJwZXJzaXN0U2Vzc2lvbiIsImF1dG9SZWZyZXNoVG9rZW4iLCJkZXRlY3RTZXNzaW9uSW5VcmwiLCJzdXBhYmFzZUFkbWluIiwiZ2V0QXV0aFRva2VuIiwiZGF0YSIsImdldFNlc3Npb24iLCJzZXNzaW9uIiwiYWNjZXNzX3Rva2VuIiwiZXJyb3IiLCJjb25zb2xlIiwiaXNMb2dnZWRJbiIsImlzQWRtaW4iLCJzZXNzaW9uRGF0YSIsImZyb20iLCJzZWxlY3QiLCJlcSIsInVzZXIiLCJlbWFpbCIsIm1heWJlU2luZ2xlIiwicmVmcmVzaFNlc3Npb24iLCJ3aXRoU2VydmljZVJvbGUiLCJvcGVyYXRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/supabaseClient.js\n");

/***/ }),

/***/ "(api)/./pages/api/awards/my-nominations.js":
/*!********************************************!*\
  !*** ./pages/api/awards/my-nominations.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/supabaseClient */ \"(api)/./lib/supabaseClient.js\");\n\n\nasync function handler(req, res) {\n    try {\n        // Create a Supabase client for server-side authentication with explicit env variables\n        const supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(\"https://wylflyzcsmkckzjdvsqc.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind5bGZseXpjc21rY2t6amR2c3FjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ3MTMzNDgsImV4cCI6MjA2MDI4OTM0OH0.9y6kBuwd1emWuseV6tv9BgtmSgB8a9UUb15n0n6UL0w\", {\n            auth: {\n                persistSession: true,\n                autoRefreshToken: true,\n                detectSessionInUrl: true\n            }\n        });\n        // Log the Supabase URL being used to verify environment variables are loaded\n        console.log(\"Using Supabase URL:\", \"https://wylflyzcsmkckzjdvsqc.supabase.co\");\n        // Get the auth cookie from the request\n        const authCookie = req.cookies[\"sb-access-token\"] || req.cookies[\"sb:token\"] || req.cookies[\"supabase-auth-token\"];\n        if (!authCookie) {\n            console.error(\"No auth cookie found in request\");\n        } else {\n            console.log(\"Auth cookie found:\", authCookie.substring(0, 10) + \"...\");\n        }\n        // Check if user is authenticated\n        const { data: { session }, error: sessionError } = await supabase.auth.getSession();\n        console.log(\"Session check result:\", session ? \"Session found\" : \"No session found\", \"Error:\", sessionError);\n        // If no session from cookie, try to get it from the Authorization header\n        let user = session?.user;\n        if (!user) {\n            const authHeader = req.headers.authorization;\n            if (authHeader && authHeader.startsWith(\"Bearer \")) {\n                const token = authHeader.substring(7);\n                try {\n                    const { data, error } = await supabase.auth.getUser(token);\n                    if (!error && data?.user) {\n                        user = data.user;\n                        console.log(\"User found from Authorization header:\", user.email);\n                    }\n                } catch (tokenError) {\n                    console.error(\"Error verifying token:\", tokenError);\n                }\n            }\n        }\n        // If still no user, try using admin client as fallback for development\n        if (!user) {\n            // For development/testing: allow admin access with specific headers\n            const isDevMode = \"development\" === \"development\";\n            const devBypass = req.headers[\"x-dev-bypass\"] === process.env.DEV_BYPASS_SECRET;\n            const adminEmail = req.headers[\"x-admin-email\"];\n            if (isDevMode && devBypass && adminEmail) {\n                console.log(\"Using development bypass with admin email:\", adminEmail);\n                user = {\n                    email: adminEmail\n                };\n            } else {\n                console.error(\"No session or user found\");\n                return res.status(401).json({\n                    error: \"Unauthorized - No session found\"\n                });\n            }\n        }\n        console.log(\"Authenticated user:\", user.email);\n        try {\n            if (req.method === \"GET\") {\n                // Check if award_settings table exists\n                try {\n                    // Try to query the award_settings table\n                    const { data: settingsData, error: settingsCheckError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"award_settings\").select(\"id\").limit(1);\n                    // If we get a specific error about the table not existing, return a specific response\n                    if (settingsCheckError && (settingsCheckError.code === \"42P01\" || settingsCheckError.message.includes(\"relation\") || settingsCheckError.message.includes(\"does not exist\"))) {\n                        console.log(\"Award tables do not exist yet\");\n                        return res.status(503).json({\n                            error: \"Award system database tables are not yet set up\",\n                            setupRequired: true\n                        });\n                    }\n                } catch (checkError) {\n                    console.error(\"Error checking if award tables exist:\", checkError);\n                    return res.status(503).json({\n                        error: \"Award system database tables are not yet set up\",\n                        setupRequired: true\n                    });\n                }\n                // Get current award settings to get the active year\n                const { data: settings, error: settingsError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"award_settings\").select(\"active_year\").single();\n                if (settingsError) {\n                    console.error(\"Error fetching award settings:\", settingsError);\n                    return res.status(500).json({\n                        error: \"Failed to fetch award settings\"\n                    });\n                }\n                // Get all nominations made by the current user for the active year\n                const { data: nominations, error: nominationsError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"award_nominations\").select(`\n            *,\n            category:award_categories(id, name, description)\n          `).eq(\"nominator_email\", user.email).eq(\"award_year\", settings.active_year).order(\"created_at\", {\n                    ascending: false\n                });\n                if (nominationsError) {\n                    console.error(\"Error fetching user nominations:\", nominationsError);\n                    return res.status(500).json({\n                        error: \"Failed to fetch your nominations\"\n                    });\n                }\n                return res.status(200).json(nominations);\n            } else {\n                return res.status(405).json({\n                    error: \"Method not allowed\"\n                });\n            }\n        } catch (error) {\n            console.error(\"Error in my nominations API:\", error);\n            return res.status(500).json({\n                error: error.message || \"Internal server error\"\n            });\n        }\n    } catch (error) {\n        console.error(\"Error in my nominations API:\", error);\n        return res.status(500).json({\n            error: error.message || \"Internal server error\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUMsV0FBVztnQkFBTTtnQkFFMUMsSUFBSUosa0JBQWtCO29CQUNwQnhDLFFBQVFJLEtBQUssQ0FBQyxvQ0FBb0NvQztvQkFDbEQsT0FBT2xELElBQUlpQyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO3dCQUFFcEIsT0FBTztvQkFBbUM7Z0JBQzFFO2dCQUVBLE9BQU9kLElBQUlpQyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDZTtZQUM5QixPQUFPO2dCQUNMLE9BQU9qRCxJQUFJaUMsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRXBCLE9BQU87Z0JBQXFCO1lBQzVEO1FBQ0YsRUFBRSxPQUFPQSxPQUFPO1lBQ2RKLFFBQVFJLEtBQUssQ0FBQyxnQ0FBZ0NBO1lBQzlDLE9BQU9kLElBQUlpQyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFcEIsT0FBT0EsTUFBTTRCLE9BQU8sSUFBSTtZQUF3QjtRQUNoRjtJQUNGLEVBQUUsT0FBTzVCLE9BQU87UUFDZEosUUFBUUksS0FBSyxDQUFDLGdDQUFnQ0E7UUFDOUMsT0FBT2QsSUFBSWlDLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRXBCLE9BQU9BLE1BQU00QixPQUFPLElBQUk7UUFBd0I7SUFDaEY7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3NhZHJjLW1lbWJlcnNoaXAtYXBwLy4vcGFnZXMvYXBpL2F3YXJkcy9teS1ub21pbmF0aW9ucy5qcz81YTZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5pbXBvcnQgeyBzdXBhYmFzZUFkbWluIH0gZnJvbSAnLi4vLi4vLi4vbGliL3N1cGFiYXNlQ2xpZW50JztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICB0cnkge1xuICAgIC8vIENyZWF0ZSBhIFN1cGFiYXNlIGNsaWVudCBmb3Igc2VydmVyLXNpZGUgYXV0aGVudGljYXRpb24gd2l0aCBleHBsaWNpdCBlbnYgdmFyaWFibGVzXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoXG4gICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwsXG4gICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSxcbiAgICAgIHtcbiAgICAgICAgYXV0aDoge1xuICAgICAgICAgIHBlcnNpc3RTZXNzaW9uOiB0cnVlLFxuICAgICAgICAgIGF1dG9SZWZyZXNoVG9rZW46IHRydWUsXG4gICAgICAgICAgZGV0ZWN0U2Vzc2lvbkluVXJsOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICAgIFxuICAgIC8vIExvZyB0aGUgU3VwYWJhc2UgVVJMIGJlaW5nIHVzZWQgdG8gdmVyaWZ5IGVudmlyb25tZW50IHZhcmlhYmxlcyBhcmUgbG9hZGVkXG4gICAgY29uc29sZS5sb2coJ1VzaW5nIFN1cGFiYXNlIFVSTDonLCBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwpO1xuICAgIFxuICAgIC8vIEdldCB0aGUgYXV0aCBjb29raWUgZnJvbSB0aGUgcmVxdWVzdFxuICAgIGNvbnN0IGF1dGhDb29raWUgPSByZXEuY29va2llc1snc2ItYWNjZXNzLXRva2VuJ10gfHwgcmVxLmNvb2tpZXNbJ3NiOnRva2VuJ10gfHwgcmVxLmNvb2tpZXNbJ3N1cGFiYXNlLWF1dGgtdG9rZW4nXTtcbiAgICBcbiAgICBpZiAoIWF1dGhDb29raWUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIGF1dGggY29va2llIGZvdW5kIGluIHJlcXVlc3QnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ0F1dGggY29va2llIGZvdW5kOicsIGF1dGhDb29raWUuc3Vic3RyaW5nKDAsIDEwKSArICcuLi4nKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBhdXRoZW50aWNhdGVkXG4gICAgY29uc3Qge1xuICAgICAgZGF0YTogeyBzZXNzaW9uIH0sXG4gICAgICBlcnJvcjogc2Vzc2lvbkVycm9yXG4gICAgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIGNoZWNrIHJlc3VsdDonLCBzZXNzaW9uID8gJ1Nlc3Npb24gZm91bmQnIDogJ05vIHNlc3Npb24gZm91bmQnLCAnRXJyb3I6Jywgc2Vzc2lvbkVycm9yKTtcbiAgICBcbiAgICAvLyBJZiBubyBzZXNzaW9uIGZyb20gY29va2llLCB0cnkgdG8gZ2V0IGl0IGZyb20gdGhlIEF1dGhvcml6YXRpb24gaGVhZGVyXG4gICAgbGV0IHVzZXIgPSBzZXNzaW9uPy51c2VyO1xuICAgIGlmICghdXNlcikge1xuICAgICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XG4gICAgICBpZiAoYXV0aEhlYWRlciAmJiBhdXRoSGVhZGVyLnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IGF1dGhIZWFkZXIuc3Vic3RyaW5nKDcpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcih0b2tlbik7XG4gICAgICAgICAgaWYgKCFlcnJvciAmJiBkYXRhPy51c2VyKSB7XG4gICAgICAgICAgICB1c2VyID0gZGF0YS51c2VyO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgZm91bmQgZnJvbSBBdXRob3JpemF0aW9uIGhlYWRlcjonLCB1c2VyLmVtYWlsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKHRva2VuRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB2ZXJpZnlpbmcgdG9rZW46JywgdG9rZW5FcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gSWYgc3RpbGwgbm8gdXNlciwgdHJ5IHVzaW5nIGFkbWluIGNsaWVudCBhcyBmYWxsYmFjayBmb3IgZGV2ZWxvcG1lbnRcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIC8vIEZvciBkZXZlbG9wbWVudC90ZXN0aW5nOiBhbGxvdyBhZG1pbiBhY2Nlc3Mgd2l0aCBzcGVjaWZpYyBoZWFkZXJzXG4gICAgICBjb25zdCBpc0Rldk1vZGUgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JztcbiAgICAgIGNvbnN0IGRldkJ5cGFzcyA9IHJlcS5oZWFkZXJzWyd4LWRldi1ieXBhc3MnXSA9PT0gcHJvY2Vzcy5lbnYuREVWX0JZUEFTU19TRUNSRVQ7XG4gICAgICBjb25zdCBhZG1pbkVtYWlsID0gcmVxLmhlYWRlcnNbJ3gtYWRtaW4tZW1haWwnXTtcbiAgICAgIFxuICAgICAgaWYgKGlzRGV2TW9kZSAmJiBkZXZCeXBhc3MgJiYgYWRtaW5FbWFpbCkge1xuICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgZGV2ZWxvcG1lbnQgYnlwYXNzIHdpdGggYWRtaW4gZW1haWw6JywgYWRtaW5FbWFpbCk7XG4gICAgICAgIHVzZXIgPSB7IGVtYWlsOiBhZG1pbkVtYWlsIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdObyBzZXNzaW9uIG9yIHVzZXIgZm91bmQnKTtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQgLSBObyBzZXNzaW9uIGZvdW5kJyB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ0F1dGhlbnRpY2F0ZWQgdXNlcjonLCB1c2VyLmVtYWlsKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGF3YXJkX3NldHRpbmdzIHRhYmxlIGV4aXN0c1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRyeSB0byBxdWVyeSB0aGUgYXdhcmRfc2V0dGluZ3MgdGFibGVcbiAgICAgICAgICBjb25zdCB7IGRhdGE6IHNldHRpbmdzRGF0YSwgZXJyb3I6IHNldHRpbmdzQ2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgICAgICAgLmZyb20oJ2F3YXJkX3NldHRpbmdzJylcbiAgICAgICAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgICAgICAgIC5saW1pdCgxKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgIC8vIElmIHdlIGdldCBhIHNwZWNpZmljIGVycm9yIGFib3V0IHRoZSB0YWJsZSBub3QgZXhpc3RpbmcsIHJldHVybiBhIHNwZWNpZmljIHJlc3BvbnNlXG4gICAgICAgICAgaWYgKHNldHRpbmdzQ2hlY2tFcnJvciAmJiBcbiAgICAgICAgICAgICAgKHNldHRpbmdzQ2hlY2tFcnJvci5jb2RlID09PSAnNDJQMDEnIHx8IFxuICAgICAgICAgICAgICAgc2V0dGluZ3NDaGVja0Vycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ3JlbGF0aW9uJykgfHwgXG4gICAgICAgICAgICAgICBzZXR0aW5nc0NoZWNrRXJyb3IubWVzc2FnZS5pbmNsdWRlcygnZG9lcyBub3QgZXhpc3QnKSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBd2FyZCB0YWJsZXMgZG8gbm90IGV4aXN0IHlldCcpO1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAzKS5qc29uKHsgXG4gICAgICAgICAgICAgIGVycm9yOiAnQXdhcmQgc3lzdGVtIGRhdGFiYXNlIHRhYmxlcyBhcmUgbm90IHlldCBzZXQgdXAnLFxuICAgICAgICAgICAgICBzZXR1cFJlcXVpcmVkOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGNoZWNrRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBpZiBhd2FyZCB0YWJsZXMgZXhpc3Q6JywgY2hlY2tFcnJvcik7XG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAzKS5qc29uKHsgXG4gICAgICAgICAgICBlcnJvcjogJ0F3YXJkIHN5c3RlbSBkYXRhYmFzZSB0YWJsZXMgYXJlIG5vdCB5ZXQgc2V0IHVwJyxcbiAgICAgICAgICAgIHNldHVwUmVxdWlyZWQ6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gR2V0IGN1cnJlbnQgYXdhcmQgc2V0dGluZ3MgdG8gZ2V0IHRoZSBhY3RpdmUgeWVhclxuICAgICAgICBjb25zdCB7IGRhdGE6IHNldHRpbmdzLCBlcnJvcjogc2V0dGluZ3NFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgICAgIC5mcm9tKCdhd2FyZF9zZXR0aW5ncycpXG4gICAgICAgICAgLnNlbGVjdCgnYWN0aXZlX3llYXInKVxuICAgICAgICAgIC5zaW5nbGUoKTtcbiAgICAgICAgICBcbiAgICAgICAgaWYgKHNldHRpbmdzRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhd2FyZCBzZXR0aW5nczonLCBzZXR0aW5nc0Vycm9yKTtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBhd2FyZCBzZXR0aW5ncycgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEdldCBhbGwgbm9taW5hdGlvbnMgbWFkZSBieSB0aGUgY3VycmVudCB1c2VyIGZvciB0aGUgYWN0aXZlIHllYXJcbiAgICAgICAgY29uc3QgeyBkYXRhOiBub21pbmF0aW9ucywgZXJyb3I6IG5vbWluYXRpb25zRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgICAgICAuZnJvbSgnYXdhcmRfbm9taW5hdGlvbnMnKVxuICAgICAgICAgIC5zZWxlY3QoYFxuICAgICAgICAgICAgKixcbiAgICAgICAgICAgIGNhdGVnb3J5OmF3YXJkX2NhdGVnb3JpZXMoaWQsIG5hbWUsIGRlc2NyaXB0aW9uKVxuICAgICAgICAgIGApXG4gICAgICAgICAgLmVxKCdub21pbmF0b3JfZW1haWwnLCB1c2VyLmVtYWlsKVxuICAgICAgICAgIC5lcSgnYXdhcmRfeWVhcicsIHNldHRpbmdzLmFjdGl2ZV95ZWFyKVxuICAgICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICBcbiAgICAgICAgaWYgKG5vbWluYXRpb25zRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIG5vbWluYXRpb25zOicsIG5vbWluYXRpb25zRXJyb3IpO1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIHlvdXIgbm9taW5hdGlvbnMnIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24obm9taW5hdGlvbnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBteSBub21pbmF0aW9ucyBBUEk6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIG15IG5vbWluYXRpb25zIEFQSTonLCBlcnJvcik7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZUFkbWluIiwiaGFuZGxlciIsInJlcSIsInJlcyIsInN1cGFiYXNlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiYXV0aCIsInBlcnNpc3RTZXNzaW9uIiwiYXV0b1JlZnJlc2hUb2tlbiIsImRldGVjdFNlc3Npb25JblVybCIsImNvbnNvbGUiLCJsb2ciLCJhdXRoQ29va2llIiwiY29va2llcyIsImVycm9yIiwic3Vic3RyaW5nIiwiZGF0YSIsInNlc3Npb24iLCJzZXNzaW9uRXJyb3IiLCJnZXRTZXNzaW9uIiwidXNlciIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInN0YXJ0c1dpdGgiLCJ0b2tlbiIsImdldFVzZXIiLCJlbWFpbCIsInRva2VuRXJyb3IiLCJpc0Rldk1vZGUiLCJkZXZCeXBhc3MiLCJERVZfQllQQVNTX1NFQ1JFVCIsImFkbWluRW1haWwiLCJzdGF0dXMiLCJqc29uIiwibWV0aG9kIiwic2V0dGluZ3NEYXRhIiwic2V0dGluZ3NDaGVja0Vycm9yIiwiZnJvbSIsInNlbGVjdCIsImxpbWl0IiwiY29kZSIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsInNldHVwUmVxdWlyZWQiLCJjaGVja0Vycm9yIiwic2V0dGluZ3MiLCJzZXR0aW5nc0Vycm9yIiwic2luZ2xlIiwibm9taW5hdGlvbnMiLCJub21pbmF0aW9uc0Vycm9yIiwiZXEiLCJhY3RpdmVfeWVhciIsIm9yZGVyIiwiYXNjZW5kaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/awards/my-nominations.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fawards%2Fmy-nominations&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cawards%5Cmy-nominations.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();